<!DOCTYPE html>
<html>
    
<head>
    <title>Freeboard | Help</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- ** Foundation ** -->
    <link rel="stylesheet" href="./css/foundation.min.css" />
	<link rel="stylesheet" href="../css/foundation-icons.css" />
    <!--** Foundation ** -->
    <link rel="stylesheet" href="../fonts/material-icons.css" />
    <link rel="stylesheet" href="./css/help.css">

    <script>
        function toggleMenu() {
            contentLeft.style.display= (!contentLeft.style.display || contentLeft.style.display=='none') ? 'block' : 'none';
        }
    </script>
</head>
    
<body>

	<!-- top Bar menu -->	
	<div class="sticky">  
		<nav class="top-bar" data-topbar>
            <div style="display:flex;">
                <div style="width: 45px;text-align: center;line-height: 3.6em;">
                        <a style="color:black;" href="#" onClick="toggleMenu()">
                        <span style="color:black;"><i class="material-icons">menu</i></span>
                    </a>
                </div>
                <div class="name" style="padding-left: 20px;">
                    <h1>
                        <img src="../img/app_logo.png" style="width:38px"> 
                        Freeboard Help
                    </h1>
                </div>
            </div>      
		</nav>
	</div>
     
    <div class="content-container">
        <div class="content-left" id="contentLeft">
            <ul class="side-nav" onClick="toggleMenu()">
                <li><a href="#top">Introduction</a></li>
                <li><a href="#server">Signal K Server</a></li>
                <li><a href="#display">Display</a></li>
                <li><a href="#navdata">Navigation</a></li>                  
                <li><a href="#resources">Resources</a></li> 
                <li><a href="#menus">Menus</a></li>
                <li><a href="#aistargets">- Vessels</a></li> 
                <li><a href="#anchor">- Anchor Watch</a></li>
                <li><a href="#alarms">- Alarms</a></li>
                <li><a href="#playback">- Playback</a></li>
                <li><a href="#settings">Settings</a></li>
                <li><a href="#experiments">- Experiments</a></li>
                <li><a href="https://github.com/SignalK/freeboard-sk/" target="_fb">
                    <i class="fi-social-github"></i> GitHub</a>
                </li>
            </ul>
        </div>
        <div class="content-right">

            <div class="panel" id="top">
                <h3>Introduction</h3>
                <p>Freeboard is an Openlayers based chart plotter that uses
                    Signal K communication protocols and Signal K server features 
                    to provide the following functionality:<br>
                    <ul>
                        <li><b>Moving Vessel / Map</b> display with vessel Heading / Bearing 
                            and True Wind / Apparent Wind lines.
                        </li>
                        <li><b>Charts:</b> display including both online and locally hosted.</li>
                        <li><b>Resources: </b> List and filter Routes, Waypoints, Notes and Regions.
                            <ul>
                                <li>Add / Edit / Delete resources</li>
                                <li>Set active route </li>
                                <li>Import resources from GPX files.</li>
                            </ul> 
                        </li>
                        <li>
                            <b>Alarms / Notifications:</b>
                            Displays both visual and audible notifications.
                            <ul>
                                <li>Anchor Watch</li>
                                <li>Depth</li>
                                <li>Crossing Vessel / Closest Approach</li>
                            </ul>
                        </li>
                        <li><b>Instrument Panel:</b> allows you to select from the apps 
                            installed on your Signal K server for display.
                        </li>
                        <li><b>Other Vessels: </b> display other vessels on map.</li>
                        <li><b>History Playback: </b> replay timeseries data from the Signal K server.</li>
                    </ul>
                </p> 
                To learn more about Signal K visit 
                <a href="http://signalk.org" target="_sk">http://signalk.org</a>
                <br>
                Visit us at 
                <a href="https://github.com/SignalK/freeboard-sk/" target="_fb">
                    <i class="fi-social-github"></i> GitHub</a>
            </div>
            
            <div class="panel" id="server">
                <h3>Signal K Server</h3>
                <p>Freeboard is a "stateless" application which can be used concurrently at multiple stations 
                    to both display and send back information to the Signal K server.<br>
                    Therefore Freeboard requires that the host Signal K server be able to service requests 
                    to the following paths for all functionality to be available:<br>
                    <ul>
                        <li>
                            <i>resources/routes</i>, <i>resources/waypoints</i>,
                            <i>resources/notes</i>, <i>resources/regions</i> - 
                            Serve resources as well as accept and persist resource data submitted to these paths.
                        </li>
                        <li><i>resources/charts</i> - Serve chart resources.</li>
                        <li><i>navigation/anchor</i>, <i>notifications/navigation/anchor</i> -
                            Serve and accept `position`, `maxRadius` values as well as calculate `currentRadius` 
                            and serve notifications.
                        </li>
                        <li><i>notifications/environment/depth</i> - Serve notifications for <i>belowKeel</i>, 
                            <i>belowSurface</i> and <i>belowTransducer</i>.
                        </li>
                        <li><i>notifications/navigation.closestApproach</i> .
                        </li>                        
                        <li>Standard Alarms - 
                            Serve notifications for <i>notifications/mob</i>, 
                            <i>notifications/sinking</i>, <i>notifications/piracy</i>, etc.
                        </li>                        
                        <li><i>navigation/courseGreatCircle/activeRoute</i></li> 
                        <li><i>navigation/courseGreatCircle/nextPoint/position</i> - 
                            Serve and accept these values to allow
                            a route to be set as active and / or waypoint 
                            to be set as a destnation.<br>
                            It is expected that the server will initiate 
                            any subsequent calculations and related value updates.
                        </li>                        
                    </ul>
                </p> 
                <hr>
                <h5>Node Server Plug-ins:</h5>
                <p>
                    When using Signal K node server you will need to install plug-ins to 
                    provide the required server functionality.
                </p>
                <p>
                    Following is a list of recommended plugins that will enable the
                    required server functionality:
                    <li>freeboard-sk-helper - Course data provider <i>(active route, nextPoint)</i></li>
                    <li>@signalk/charts-plugin - Charts provider</li>
                    <li>sk-resources-fs - Resources provider <i>(Routes, Waypoints, Note &amp; Regions)</i></li>
                    <li>signalk-anchoralarm-plugin - Anchor Watch provider</li>
                    <li>signalk-simple-notifications - Depth alarm provider</li>
                    <li>signalk-derived-data (v1.23.0 or later) - Course data, closest approach</li>
                    <li>signalk-buddylist-plugin - Buddy vessel notifications</li>
                </p>
            </div>

            <div class="panel" id="display">
                <h4>Display</h4>
                <p>
                    Freeboard provides a moving Vessel / Map display for both your vessel
                    <img src="../img/ship_red.png" style="height:30px;"/>
                    and other vessels <img src="../img/ais_active.png" style="height:20px;"/>.<br>
                    <img src="./img/screen.png" style="height:400px;"/>
                    <br>
                    The menu bar along the left of the screen provides access to functions and
                    menus that allow you control the map display.
                    <li class="nobullet"><i class="material-icons">navigation</i>
                        <b>Heading / North Up:</b>
                        Toggles between <i>Heading / North Up</i> mode.
                    </li>                        
                    <li class="nobullet"><i class="material-icons">my_location</i>
                        <b>Follow Vessel On / Off:</b>
                        Toggles <i>Follow Vessel</i> mode to keep the vessel at the centre of the 
                        screen.<br>
                        <i>Note: this option is disabled when vessel position is not available.</i>
                    </li>
                    <li class="nobullet"><i class="material-icons">center_focus_strong</i>
                        <b>Centre Vessel on screen:</b> 
                        <i>Note: This option is disabled when vessel position is not available.</i>
                    </li>     
                    <li class="nobullet"><i class="material-icons">more_horiz</i>
                        <b>More Actions:</b>
                        <ul>
                            <li>Show / Hide Vessels</li>
                            <li>Clear / Refresh Vessel Trail: When trail is available from the server
                                selecting this menu item will reload the trail from the server.
                            </li>
                            <li>Show / Hide / Clear Course Data</li>
                            <li>Clear Active Route</li>
                        </ul>
                    </li>     
                    <li><b>Context "Right click" Menu :</b> 
                        Click the right mouse button anywhere on the map to display 
                        a context menu. The options available may vary based on the current 
                        application state.<br>
                        <img src="./img/context_menu.png" style="max-width:190px;"/><br>
                        <i>Note:The <b>Add Note here"</b> option is only available at zoom levels where 
                            Notes are visible on the map.
                        </i>
                        <br>&nbsp;
                    </li>    
                    <li class="nobullet"><i class="material-icons">av_timer</i>
                        <b>Instrument panel:</b> The instrument panel is used to display selected Web App(s) installed on
                        the Signal K server.<br>
                        <i>The default instruments shown are <b>@signalk/instrumentpanel</b></i><br>
                        Use the <a href="#settings">Settings</a> screen to:
                        <li>Select the Web App to display</li>
                        <li>Select one or more <i>Favourites</i> that can be switched into view by using the
                            <i class="material-icons">arrow_back_ios</i> and <i class="material-icons">arrow_forward_ios</i>
                            buttons.
                        </li>
                        You can also open the displayed Web App in it's own window by clicking 
                        the <i class="material-icons">open_in_new</i> button.
                    </li>                                                               
                </p>
                <p>
                    <img src="../img/ship_red.png" style="height:30px;"/>
                    <b>Vessel:</b> displays the current position and heading of your vessel.<br>
                    <i>Note: Vessel icon is not displayed when vessel position is not available.</i><br>
                    Additionally, Heading, Bearing True Wind Direction and Apparent Wind Angle 
                    lines are displayed with the vessel when the related data is available.<br>
                    <div style="display:flex;">
                        <div>                        
                            <img src="./img/vessel_lines.png" style="height:80px;"/>
                        </div>
                        <div style="padding-left: 25px;">
                            <table>
                                <tr>
                                    <td style="width:40px;">
                                        <hr style="border-color:rgba(221, 99, 0, 0.5);border-width: 1px;"></td>
                                    <td>Heading</td>
                                </tr>
                                <tr>
                                    <td style="width:40px;">
                                        <hr style="border-color:rgba(221, 99, 0, 0.5);border-width: .5px;"></td>
                                    <td>bearing</td>
                                </tr>
                                <tr>
                                    <td style="width:40px;">
                                        <hr style="border-color:olive;border-width: 1px;"></td>
                                    <td>True Wind</td>
                                </tr>
                                <tr>
                                    <td style="width:40px;">
                                        <hr style="border-color:green;border-width: 1px;"></td>
                                    <td>Apparent Wind</td>
                                </tr>                                                                                    
                            </table>
                        </div>    
                    </div>                
                </p>
                <p>
                    <img src="../img/ais_active.png" style="height:20px;"/>
                    <b>Active Vessel:</b> displays the current position and heading 
                    for a vessel for which
                    an update has been received in the last 6 mins.<br>
                    <img src="../img/ais_inactive.png" style="height:20px;"/>
                    <b>Inactive Vessel:</b> displays the last received position and heading 
                    for a vessel for which
                    an update has NOT been received for more than 6 mins.<br>
                    <i>Note: Vessels are removed from display after there has been no 
                        update received for 9 mins or more.</i>
                </p>   
                <P>
                    Clicking on a vessel icon will display an information window
                    containing vessel data and available actions.<br>
                    <img src="./img/vessel_popover.png" style="height:150px;"/>
                    &nbsp;&nbsp;
                    <img src="./img/ais_popover.png" style="height:150px;"/>
                    &nbsp;&nbsp;
                    <img src="./img/ais_properties.png" style="height:150px;"/>
                </P>                 
            </div>	

            <div class="panel" id="navdata">
                <h4>Navigation</h4>
                <p>
                    Freeboard will display course data in either the 
                    <i>navigation.courseGreatCircle</i> or 
                    <i>navigation.courseRhumbline</i> paths when received
                        from the server.                        
                </p>  
                
                <p>
                    You can set a destination in the following ways:
                    <ol>
                        <li><b>Activate a Route:</b> Once activaed select a point along the route.</li>
                        <li><b>Go To Waypoint:</b> Select a waypoint as a destination.</li>
                        <li><b>Navigate to here:</b> 
                            Right click anywhere on the map and select the option from the menu.<br>
                            <img src="./img/context_menu.png" style="max-width:190px;"/>
                        </li>
                    </ol>
                </p>
                <p>To display course data when it is available from the server,
                    click <i class="material-icons">more_horiz</i> and
                    select <b>Show Course Data</b>.<br>
                    <img src="./img/course_data.png" style="width:200px;"/><br>
                </p>  
                <p>If the server stops sending course data, the last received values 
                    will remain on the screen. <br>
                    To hide the course data display until the next set of data is 
                    received, click <i class="material-icons">more_horiz</i> and
                    select <b>Clear Course Data</b> from the menu.
                </p>                                  
                <div style="display:flex;flex-wrap: wrap;">
                    <div>
                        <!--<img src="./img/navdata.png" style="max-width:250px;"/>-->
                        <p>
                            To view / change settings such as <i>Arrival Circle</i> click the 
                            <i class="material-icons">settings</i> button to display
                            the <b>Course Settings</b> screen.<br>
                            <img src="./img/course_settings.png" style="max-width:350px;"/>
                        </p>
                    </div>
                    <div style="padding-left:15px;">
                        A waypoint can be set as the target for which navigation data 
                        is to be displayed by clicking the <b>Navigate To</b> button
                        in either: 
                        <ul>
                            <li>A waypoint card in the <b>Waypoint List</b><br>
                                <img src="./img/waypoint_list.png" style="width:150px;"/>
                            </li> 

                            <li>The pop-up displayed when a waypoint is clicked.<br>
                                    <img src="./img/wpt_popover.png" style="width:100px;"/>
                            </li>
                        </ul>
                    </div>
                </div> 	                
            </div>               

            <div class="panel" id="resources">
                <h4>Resources</h4>
                <p>
                    Freeboard provides functionality for in-built Signal K resource types:
                    routes, waypoints, charts, notes and regions .
                    <hr>

                    <li class="nobullet"><i class="material-icons">directions</i>
                        <b>Routes:</b>
                        Displays a list of available Routes.
                    </li> 
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/route_list.png" style="max-width:250px;"/></div>
                        <div><img src="./img/route_points_active.png" style="max-width:250px;"/></div>                        
                        <div style="padding-left:15px;">
                            <li><b>Filter Routes:</b> Type into the text box to filter the list of routes.</li>
                            <li><b>Display Route:</b> Check the checkbox to display the route on the map.</li>
                            <li><b>Delete Route: </b> Click the trash can icon and you will be prompted to 
                                delete the route.<br>
                                <i>Note: Deleting a route will also delete the associated Start and End Waypoints!</i>
                            </li>
                            <li><b>Active: </b> Clicking <i class="material-icons">select_all</i> sends a message to the server to set 
                                this route as the <i>Active Route</i>.<br>
                                The start of the route is set as the current destination. <br>
                                Use the <i>Previous</i> and <i>Next</i> point options in the 
                                <i class="material-icons">more_horiz</i> menu to 
                                select the destination point.
                            </li>
                            <li><b>Clear: </b> Clicking <i class="material-icons">clear_all</i> sends a message to the server to clear 
                                the <i>Active Route</i>.
                            </li>                            
                            <li><b>Properties: </b> Click <i class="material-icons">info_outline</i> to edit route Name and Description.</li> 
                            <li>
                                <b>Points: </b> Click <i class="material-icons">flag</i> to view a list of 
                                route points where the following actions can be performed:<br>
                            </li> 
                                <div style="padding-left:20px;">
                                    <li> 
                                        <b>Set the destination point:</b> If displayed route is the <i>Active Route</i>, click a 
                                        point to set it as the current destination along the route.
                                    </li>
                                    <li>
                                        <b>Re-order points:</b> Use the handle to drag points to a new position in the list.<br>
                                        <i>Note: If points of the Active Route have been re-ordered then you will
                                            not be able to set the destination point until changes have been applied.
                                        </i>
                                    </li>
                                </div>
                            
                        </div>
                    </div>       
                    <hr>  

                    <li class="nobullet"><i class="material-icons">location_on</i>
                        <b>Waypoints:</b>
                        Displays a list of available Waypoints.
                    </li>
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/waypoint_list.png" style="max-width:250px;"/></div>
                        <div style="padding-left:15px;">
                            <li><b>Filter Waypoints:</b> Type into the text box to filter the list of waypoints.</li>
                            <li><b>Display Waypoint:</b> Check the checkbox to display the waypoint on the map.</li>
                            <li><b>Delete Waypoint: </b> Click the trash can icon and you will be prompted to 
                                delete the route.<br>
                                <i>Note: A waypoint may be associated with a route. 
                                    so take care when deleting waypoints!</i>
                            </li>
                            <li><b>Go To: </b> Clicking <i class="material-icons">near_me</i> sends a message to the server to set 
                                this waypoint as the target to navigate to. The server should then send 
                                <a href="#navdata">navigation data</a> in relation to this location.
                            </li>                           
                            <li><b>Properties</b> Click <i class="material-icons">info_outline</i> to edit waypoint Name and Description.</li> 
                        </div>
                    </div>  
                    <br>
                    Additionally, you can click on both Routes and Waypoints to display
                    an information window with available actions.<br>
                    <div style="padding-left:15px;">
                        <li>
                            <b>Move:</b> 
                            Clicking <i class="material-icons">touch_app</i> allows waypoints and route points to be re-positioned.
                        </li>
                    </div>                     
                    <img src="./img/route_popover.png"/>&nbsp;&nbsp;
                    <img src="./img/wpt_popover.png"/>    
                    <hr>

                    <li class="nobullet"><i class="material-icons">local_offer</i>
                        <b>Notes:</b>
                        Displays a list of available Notes.
                    </li> 
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/note_list.png" style="max-width:250px;"/></div>
                        <div style="padding-left:15px;">
                            <li><b>Filter Notes:</b> Type into the text box to filter the list of notes.</li>
                            <li><b>Draft Notes: </b> Click <i class="material-icons">border_color</i> to display only 
                                draft notes in the list.<br>
                            <li><b>Display Notes:</b> Check the checkbox to display notes on the map.</li>
     
                            <li><b>Group: </b> Clicking <i class="material-icons">styles</i> will display a list of notes 
                                in the same group.
                            </li>
                           
                            <li><b>Properties:</b> Click <i class="material-icons">info_outline</i> to open the 
                                note information / editor screen.
                            </li> 
                        </div>
                    </div>  
                    <i>See <a href="#settings">Settings</a> for configuring note display.</i>
                    <br>&nbsp;
                    <div>
                        <b>Note Properties:</b><br>
                        Freeboard uses specfic key / value pairs that are defined within the 
                        <code>properties: {}</code> block of a note:
                        <br>&nbsp;
                        <li>
                            <b>draft</b> <i>(boolean)</i>: Indicates whether the note is in draft mode.
                            Used by the server to determine the visibility or scope of where the note is made
                            available.
                        </li>
                        <li>
                            <b>readOnly</b> <i>(boolean)</i>: Used by Freeboard (when meta._attr is not available) 
                            to determine whther the note is editable.
                        </li>
                        <br>
                        <i>Example:</i>
                        <code>
                            properties: {
                                draft: true,
                                readOnly: false
                            }
                        </code>
                    </div>     
                    <hr>

                    <li class="nobullet"><i class="material-icons">map</i>
                        <b>Charts:</b> 
                        Displays a list of available Charts.
                    </li>  
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/chart_list.png" style="max-width:250px;"/></div>
                        <div style="padding-left:15px;">
                            <li><b>Filter Charts:</b> Type into the text box to filter the list of charts.</li>
                            <li><b>Chart Layers:</b> Click <i class="material-icons">layers</i> to 
                                arrange the chart stack to ensure charts are displayed in the correct order.
                                Drag and drop the charts within the list to chage the order.
                            </li>
                            <li><b>Properties:</b> Click <i class="material-icons">info_outline</i> to 
                                display the chart properties.
                            </li>                            
                            <li><b>Display Chart:</b> Check the checkbox to display the chart.</li>
                            Freeboard by default will display:
                            <li>OpenStreetMap</li>
                            <li>OpenSeaMap</li>
                            which require an internet connection to be displayed.<br>
                            <b>Local Charts</b> hosted on the Signal K server are identified with the 
                            <i class="material-icons">map</i> icon.
                            <br>&nbsp;<br>
                            Charts are displayed in descending order of scale to ensure more detailed 
                            charts are on top.
                        </div>
                    </div> 
                </p>                 
            </div>	           

            <div class="panel" id="menus">
                <h4>Draw Menu</h4>
                <p>
                    <li class="nobullet"><i class="material-icons">edit</i>
                        The Draw menu is where you will find options to:
                    </li>  
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/draw_menu.png" style="max-width:250px;"/></div>
                        <div style="padding-left:15px;">                        
                            <li>
                                <b>Draw a Route</b>: Create a route by clicking locations on the map
                            </li>
                            <li>
                                <b>Drop Waypoint</b>: Create a waypoint by clicking a location on the map
                            </li>
                            <li>
                                <b>Add Note</b>: Create a note at a specific location by clicking on the map
                            </li>
                            <li>
                                <b>Draw Region + Note</b>: Create a region and attach a <i>note</i> by 
                                clicking locations on the map to define the region.
                            </li>
                            <li>
                                <b>Measure</b>: Measure distances by clicking locations on the map.
                            </li>
                        </div>
                    </div>                
                </p>
            </div>

            <div class="panel" id="gpx">
                <h4><i class="material-icons">streetview</i>Load from GPX</h4>
                <p> 
                    <li class="nobullet"><i class="material-icons">menu</i>
                        <b>Main Menu:</b>
                        Access the <i class="material-icons">streetview</i> 
                        <b>Load from GPX</b> option from the Main menu.
                    </li>                      
                    <br>
                    <div style="display:flex;flex-wrap: wrap;">
                        <div><img src="./img/gpx_load.png" style="max-width:250px;"/></div>
                        <div style="padding-left:15px;">
                            After selecting a GPX file from the Open File dialog you will be
                            presented with a screen that will allow you to select some or all
                            of the Route and Waypoint resources contained in the file.<br>

                            <li><b>Waypoints:</b> Click the checkbox to select all Waypoints or
                                expand the list and select the Waypoints to import.
                            </li>
                            <li><b>Routes:</b> Click the checkbox to select all Routes or
                                expand the list and select the Routes to import.
                            </li>
                            <br>
                            After selecting the resources click <b>Load Selected</b> to load the
                            resources onto the Signal K server.
                        </div>
                    </div>    
                </p>
            </div>

            <div class="panel" id="anchor">
                <h4>Anchor Watch</h4>
                <p>
                    <li class="nobullet"><i class="material-icons">menu</i>
                        <b>Main Menu:</b>
                        Access the <i class="fi-anchor" style="font-size:20pt;"></i> <b>Anchor Watch</b> option from the Main menu.
                    </li> 
                </p>
                <div style="display:flex;flex-wrap: wrap;">
                    <div><img src="./img/anchor_watch.png" style="max-width:250px;"/></div>
                    <div style="padding-left:15px;">
                        <li><b>Set Radius</b>: 
                            Move the slider to the desired radius.
                        </li>
                        <li><b>Drop Anchor</b>: 
                            Slide the toggle to drop the anchor and tell the server to 
                            start watching.
                        </li>    
                        <img src="./img/anchor_circle.png" style="max-width:100px;"/>       
                        <li>When the server calculates that the maxumum radius has been 
                            exceeded it sends a notification which triggers the alarm 
                            message.
                        </li>                                
                        <li>An alarm message will be either just Visual or also Audible 
                            depending on the content of the notification from the server.
                            An audible alarm can be muted by clicking the Mute button.
                        </li>  
    
                        <img src="./img/anchor_alarm.png" style="max-width:250px;"/>
                        <img src="./img/anchor_alarm_muted.png" style="max-width:250px;"/>
                        <li>Acknowledging the alarm will minimise the alarm icon until the alarm has been cleared.</li>
                        <img src="./img/ackalarms.png" style="max-width:250px;height:60px;"/>
                        <li>To clear the alarm and remove it from the screen click Acknowledge.</li>
                    </div>
                </div> 	                
            </div>    

            <div class="panel" id="alarms">
                <h4><i class="material-icons">warning</i> Alarms &amp; Notifications</h4> 
                <p>
                    Freeboard will display Notifications and also provides the ability to raise alarms.
                    <br>    
                    Notifications are displayed using:
                    <li>Visual only <i>(popup at the top of the screen)</i></li>
                    <li>Sound only</li>
                    <li>Visual &amp; Sound</li>
                    as specified by the notification message received from the Signal K server.
                    <br>
                    The following Alarms can be raised:
                    <div><img src="./img/alarms.png" style="max-width:250px;"/></div>
                </p>
                <br>  
                <h5>To RAISE an alarm:</h5> 
                <li>
                    Click the <i class="material-icons" style="color:orangered;">warning</i> button
                    on the toolbar to display the Alarms dialog:
                </li>   
                <li>
                    Click the <b>RAISE ALARM</b> button for the desired alarm type.
                </li>                 
                An alarm notification will be sent to the Signal K server.<br>
                &nbsp;<br>
                Freeboard will display the received alarm from the server. This alarm 
                can be <i>Acknowledged</i> and / or <i>Muted</i>.<br>
                <li>Acknowledging the alarm will minimise the alarm icon until the alarm has been cleared.</li>
                <img src="./img/ackalarms.png" style="max-width:250px;height:60px;"/>                
                <li>The raised alarm will remain until it is cancelled.</li>
                <br>
                <h5>To CANCEL an alarm:</h5> 
                <li>
                    Click the <i class="material-icons" style="color:orangered;">warning</i> button
                    on the toolbar to display the Alarms dialog:
                </li>   
                <li>
                    Click the <b>CANCEL ALARM</b> button.
                </li>

                <br>
                <h5>NOTIFICATIONS:</h5> 
                Freeboard displays the following Notifications:
                <li>Depth</li>
                <li>Anchor - see <a href="#anchor">Anchor Watch</a></a></li>
                <li>Closest Approach</li>
                <img src="./img/closest_approach.png" style="width:250px;"/><br>     
                <li>Buddy - <i>via signalk-buddylist-plugin</i></li>
                <img src="./img/buddy.png" style="width:250px;"/>            
    
            </div>            
            
            <div class="panel" id="aistargets">
                <h4>Vessels</h4>
                <p>
                    Freeboard displays vessels with the following icons:
                    <div style="display:flex;">
                        <div style="width:30px;text-align: center;"><img src="../img/ship_red.png" style="width:12px;"/></div>
                        <div>Vessel associated Signal K "self"</div>
                    </div>
                    <div style="display:flex;">
                        <div style="width:30px;text-align: center;"><img src="../img/ais_active.png" style="width:24px;"/></div>
                        <div> Vessel with updated data (&lt;6 mins since last update)</div>
                    </div>
                    <div style="display:flex;">
                        <div style="width:30px;text-align: center;"><img src="../img/ais_inactive.png" style="width:24px;"/></div>
                        <div>Vessel with stale data (&gt;6 mins since last update)</div>
                    </div>
                    <div style="display:flex;">
                        <div style="width:30px;text-align: center;"><img src="../img/ais_buddy.png" style="width:24px;"/></div>
                        <div>Vessel marked as "Buddy"</div>
                    </div>                                                            
                </p>
                <p>
                    Freeboard provides the ability to de-clutter the screen of vessels in the following ways:
                    <li>Show / Hide Vessels layer on the map</li>
                    <li>Providing the ability select which Vessels to display.</li>                 
                </p>  
                <p>
                    Additionally, a wind vector will be displayed for vessels where the data is available.<br>
                    This vector will only be displayed at higher zoom levels so as to reduce screen clutter.
                </p>
                <p>You can select whether to use either True or Apparent wind data for displaying the vector.<br>
                    This choce can be made in the <a href="#settings">Settings</a> screen.
                </p>
                <br>  
                <h5>To Show / Hide the Vessels Map Layer:</h5> 
                <li class="nobullet">
                    From the <i class="material-icons">more_horiz</i> menu
                    select either:
                    <ul>
                        <li class="nobullet"><i class="material-icons">visibility</i> Show Vessels </li>
                        <li class="nobullet"><i class="material-icons">visibility_off</i> Hide Vessels</li>
                    </ul>
                </li>   
                <br>  
                <h5>To Select Vessels:</h5> 
                <li class="nobullet">
                    From the <i class="material-icons">menu</i> menu
                    select <i class="material-icons">directions_boat</i> <b>Vessels</b>.
                </li>   
                <br>        
                <div style="display:flex;flex-wrap: wrap;">
                    <div><img src="./img/ais_list.png" style="max-width:250px;"/></div>
                    <div style="padding-left:15px;">
                        <li><b>Filter Vessels:</b> Type into the text box to filter the list of vessels.</li>
                        <li><b>Display Vessel:</b> Tick the checkbox to display the vessel on the map.</li>
                        <i>Freeboard by default will display all vessels</i><br>
                        <li>
                            <i class="material-icons">info_outline</i>
                            <b>Info:</b>
                            Click this button to display the vessel properties.
                        </li>
                        <li>
                            <i class="material-icons">center_focus_weak</i>
                            <b>Focus:</b> Click this button to set this vessel as the active vessel
                            and direct all actions to this vessels path on the Signal K server.<br>
                            <i>Note: Actions may fail if the Signal K server does not support PUTs to paths 
                                other than `vessels/self`
                            </i>
                        </li>
                        <li>
                            <i class="material-icons">clear_all</i>
                            <b>Unfocus:</b> Click this button to reset the active vessel
                            to <i>self</i>.
                        </li>                        
                    </div>
                </div> 
                <img src="./img/ais_properties.png"style="max-width:250px;"/><br>
                <i>Note:If the Vessels layer is hidden selections made in this screen will
                   not be displayed until the Vessels layer is made visible.
                </i>                       
                      
            </div>                

            <div class="panel" id="playback">
                <h4>Playback History</h4>
                <p>
                    Freeboard provides the ability to request historical data playback  
                    from the server.     <br>
                    <b>Note: Selecting this option from the menu disconnects the realtime stream.</b>                   
                </p>  
                <p><i>Note: Playback history must be supported by the server.</i></p> 
                <li class="nobullet"><i class="material-icons">menu</i>
                    <b>Main Menu:</b>
                    Access the <i class="material-icons">history</i> <b>Playback History</b> option from the Main menu.
                </li>     
                <br>                                          
                <div style="display:flex;;flex-wrap: wrap;">
                    <div><img src="./img/playback.png" style="max-width:250px;"/></div>
                    <div style="padding-left:15px;">
                        From the History Playback screen select: 
                        <ul>
                            <li><b>Context:</b> to choose vessel(s) data. <i>self</i> or <i>all</i></li>
                            <li><b>Start Date:</b> Date of playback stream start</li>
                            <li><b>Start Time:</b>Time of playback stream start</li>
                            <li><b>Playback Rate:</b> Rate of playback. 
                                <i>1= real-time, 5= 5 x real-time</i> 
                            </li>
                        </ul> 
                        Click <b>Start</b> to start the data stream.<br>
                        Click <b>Cancel</b> to re-start the real-time data stream.
                    </div>
                </div> 	           
                <br>                                          
                <div style="display:flex;">
                    <div style="padding-left:15px;">
                        <b>Playback Mode: </b>
                        <p>
                            Once started, Playback Mode is identified by the addition of the 
                            <i class="material-icons" style="color:red;">cancel</i> button to the menu bar.
                        </p>
                        <li class="nobullet">
                            Click <i class="material-icons" style="color:red;">cancel</i> to end playback and 
                            return to realtime data stream.
                        </li>
                    </div>
                </div> 	                      
            </div>               
        
            <div class="panel" id="settings">
                <h4><i class="material-icons">settings</i></i> Settings</h4>
                <p>
                    The Settings screen is where you can configure Freeboard and it consists 
                    of the following sections:
                </p>
        
                <p>
                    <b>DISPLAY:</b><br>
                    This section provides choices about how information is displayed.<br>
                    <img src="./img/settings_display.png" style="width:300px;"/>
                    <ul>
                        <li><b>Instrument Panel App</b>: 
                            Select from a list of installed applications the one you wish to
                            be displayed in the Instrument Panel.<br>
                            <i>Note: The application selected should be responsive to display correctly
                                within the space afforded by the instrument panel.
                            </i>
                        </li>
                        <li><b>Parameters</b>: 
                            Enter parameters that will be appended to the 
                            Instrument App url.
                        </li>                        
                        <li><b>Halt App on hide</b>: 
                            When checked the selected Intrument Panel App will be stopped when the Panel
                            is hidden.<br>
                            <i>To save resources on your device when  the instrument panel is hidden
                                clear this checkbox.</i>
                        </li>    
                        <li><b>Favourites</b>: 
                            Use this to display a list of Web Apps installed on the Signal K Server
                            which can then be selected as a <i>Favourite</i>.<br>
                            These selected Web App can be "switched in" for display in the 
                            <i>Instrument Panel</i>.
                        </li>                       
                        <li><b>Show DEPTH Alarm Messages</b>: 
                            Check this box if you want received DEPTH notifications from the Signal K server
                            to be displayed as an alarm message.
                        </li>           
                        <li><b>Alarm Smoothing Time</b>: 
                            Once the DEPTH alarm message has been acknowledged and the notification 
                            state has returned to <i>Normal</i>, this is the 
                            length of time that the notification must remain in <i>Normal</i> state
                            before the alarm is re-triggered.
                        </li>                                
                        <li><b>Display Vessel Trail</b>: 
                            Check this box if you want to display the vessel trail.<br>
                            By default Freeboard will display the vessel trail using a local cache 
                            maintaining up to 5000 points at a 5 second interval.
                            <ul>
                                <li>
                                    <b>Get Trail from Server</b>: Check this to retrieve
                                    vessel trail data from the server at the path 
                                    <i>signalk/v1/api/self/track</i>.<br> 
                                </li>
                                 <li>
                                    Use the slider to set the length of track to retrieve from the server 
                                    in hours. Time is relative to the current time.<br>

                                    Freeboard will attempt to retrieve track from the server in the following way:
                                    <ul>
                                        <li>time < (now - 24hrs) => 5 minute intervals.</li>
                                        <li>(now - 1hr) < time > (now - 24hrs) => 1 minute intervals.</li>
                                        <li>time > (now - 1hr) => 5 second intervals.</li>
                                    </ul>
                                </li>
                            </ul>
                        </li>   
                        <li><b>Dark Mode Setting</b>: 
                            Use this setting to control the display theme (Light or Dark).<br>
                            <ul>
                                <li>
                                    <b>Use OS Setting</b> - Selecting this option tells Freeboard follow the 
                                    preferred display mode set by the hosting system.<br>
                                    Note: This uses the <i>prefers-color-scheme</i>
                                    CSS media setting, if the browser does not support this feature then the 
                                    <i>Light</i> theme is selected.
                                </li>
                                <li><b>Use Signal K Mode</b> - Set the display mode using the value of the 
                                    <i>environment.mode</i> path. <i>Dark</i> theme is used when value is "night".
                                </li>
                                <li><b>On</b> - Turn Dark Mode on.
                                </li>                                
                            </ul>
                        </li>                         
                    </ul>
                </p>		

                <p>
                    <b>UNITS &amp; VALUES:</b><br>
                    This section provides choices about the units and values used when displaying data.<br>
                    <img src="./img/settings_units.png" style="height:200px;"/><br>

                    <b>Distance Units</b>: 
                    <i>Kilometres</i> / <i>Nautical Miles</i>
                    <br>
                    <b>Depth Units</b>: 
                    <i>Metres</i> / <i>Feet</i>
                    <br id="settings-paths">
                    <b>Preferred Paths</b>:
                    Click this button to display show a list of available source paths for
                    specific values i.e. Heading, Wind Speed, etc.<br>
                    <img src="./img/settings_paths.png" style="height:200px;"/><br>
                    Select the path from which you want the value used for the specfic vessel attribute.<br>
                    Click <i>Save</i> to ensure your selections are applied.<br>
                    <i>Note: The paths available will depend on the data stream received from the 
                        Signal K server.
                    </i>
                    <br>&nbsp;<br>
                    <b>Prefer True / Magnetic values</b>: <i>True</i> / <i>Magnetic</i><br>
                    Instructs Freeboard to use either the True or Magnetic value path for
                    paths that are not listed in <i>Preferred Paths</i>.
                    <i>(Defaults to True)</i><br>
                    <i>Note: If the selected path type is not within the received data 
                        stream NO value will be displayed. Freeboard will NOT fallback to other available
                        path values!
                    </i>
                </p>	
                
                <p>
                    <b>OTHER VESSELS:</b><br>
                    This section provides choices about the units and values used when displaying data.<br>
                    <img src="./img/settings_other_vessels.png" style="height:200px;"/><br>

                    <b>Wind Vector</b>: <i>Wind True</i> / <i>Wind Apparent</i><br>
                    Value used to display wind vector for other vessels displayed on the map.
                    <br>
                    <b>Wind Vector Zoom Level</b>: <br>
                    The minimum Zoom level at which other vessels wind vector will be displayed. <i>(Default=15)</i>
                    <br>                    
                </p>                
                
                <p>
                    <b>RESOURCES: NOTES</b><br>
                    <img src="./img/settings_resources_notes.png" style="height:200px;"/>
                    <ul>
                        <li><b>Display Notes on Map</b>: 
                            Un-check this box if you do not want to display <i>NOTES</i> on the map.
                        </li>    
                        <li><b>Notes Zoom Level</b>: 
                            Select the zoom level at which <i>NOTES</i> will appear on the map.
                        </li>       
                        <li><b>Fetch Notes radius</b>: 
                            Select the radius from the centre of the displayed map within which <i>NOTES</i> 
                            will be retrived from the server.<br>
                            A request to fetch Notes is triggered when the map centre moves more than 
                            50% of this value. 
                        </li>                          
                        <li><b>Notes Fetch Filter</b>: 
                            This field allows you to specify a parameter string that will be 
                            used when fetching Notes from the Signal K server. This can be useful to reduce 
                            the number of Notes records returned or to only return Notes in a particular area. <br>
                            The string can contain <i>%Tokens%</i> to specify specific values.<br>
                            <i>e.g. ?position=%map:longitude%,%map:latitude%&radius=%note:radius%</i>
                        </li>   
                        <li><b>Edit Group Names</b>: 
                            By default the <i>group</i> attribute of a note will not be available 
                            in the note editor screen.<br>
                            Check this box if you want to be able to edit the <i>group</i> attribute.
                        </li>       
                        <li><b>Position Group Note</b>: 
                            By default adding a new note to a <i>group</i> 
                            will not prompt you for the psoition of the note.<br>
                            Checking this box will prompt you to place the note by clicking
                            on the map.
                        </li>                                                                                          
                    </ul>

                    <b>Parameter Tokens</b> are text enclosed in <b>%</b>.<br>
                    Valid tokens include:
                    <ul>
                        <li><b>map:latitude</b>: Latitude at centre of Map</li>
                        <li><b>map:longitude</b>: Longitude at centre of Map</li>
                        <li><b>note:radius</b>: The value set in the <i>Fetch Notes within</i> field</li>
                    </ul>
                </p>    
                
                <p>
                    <b>RESOURCES: VIDEO</b><br>
                    Freeboard provides the ability to utilise the "Picture in Picture" (or PiP) 
                    feature in supported browsers to display a video stream from a 
                    source such as a video camera, etc.

                    <ul>
                        <li><b>Enable Video</b>: 
                            Check this box to enable the display of a PiP video stream.
                        </li>    
                        <li><b>URL</b>: 
                            Enter the url of the video stream source.
                        </li>   
                    </ul>

                    When enabled and a url defined a <i class="material-icons">videocam</i>
                    button will be displayed on the screen.
                    <br>&nbsp;<br>
                    Click this button to open the video stream. 
                    The stream will start to play 
                    and the video window can be moved, resized and playback controlled 
                    using the controls provided by the browser.<br>                    
                </p>                 
            </div>
            <div class="panel" id="experiments">
                <h4><i class="material-icons">science</i> Experiments</h4>
                <p>
                    When features are being assessed for inclusion into Freeboard they are deemed to be
                    <b>Experiments</b>.<br>
                    To access these features you will need ensure the <b>Experimental Features</b> checkbox 
                    is checked in <i>Settings</i>.
                </p>
                <p>
                    When enabled these features can be acccessed via the <i class="material-icons">science</i> button.
                </p>
                <p><i>Note:</i> For experiments that require Signal K server support you will be required 
                    to have the <i>sk-resources-fs</i> plugin installed on the Signal K server.
                </p>
                <p>
                    Current experiments include:<br>
                    <li>GRIB wind / temperature data display</li>
                    <li>Import GPX Track data</li>
                    <li>Import GeoJSON features as Signal K resources</li>
                </p>
                <p id="geojson">
                    Files used for importing GeoJSON features must contain a <i>FeatureCollection</i>
                    defining the features to import.<br>
                    The following GeoJSON features are supported:
                    <table>
                        <thead>
                            <tr>
                                <td>GeoJSON feature type</td>
                                <td></td>
                                <td>Signal K Resource type</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>LineString</td>
                                <td><i class="material-icons">arrow_forward</i></td>
                                <td>Route</td>
                            </tr>
                            <tr>
                                <td>Point</td>
                                <td><i class="material-icons">arrow_forward</i></td>
                                <td>Waypoint</td>
                            </tr>
                            <tr>
                                <td>Polygon</td>
                                <td><i class="material-icons">arrow_forward</i></td>
                                <td>Region</td>
                            </tr>
                            <tr>
                                <td>MultiPolygon</td>
                                <td><i class="material-icons">arrow_forward</i></td>
                                <td>Region</td>
                            </tr>
                            <tr>
                                <td>MultiLineString</td>
                                <td><i class="material-icons">arrow_forward</i></td>
                                <td>Track</td>
                            </tr>                                                                                                                
                        </tbody>
                    </table>

                    Additionally the feature <i>properties</i> object can be used
                    to specify Signal K resource properties such as <i>name</i> or 
                    <i>description</i>.
                    <br>&nbsp;<br>
                    <i>Example:</i><br>
                    <code>
                        {
                            "type": "FeatureCollection",
                            "features": [
                                {
                                    "type": "Feature",
                                    "geometry": {
                                        "type": "LineString",
                                        "coordinates": [..]
                                    },
                                    "properties": {
                                        "name": "myRoute",
                                        "description": "a GeoJSON route"
                                    }
                                },
                                {
                                   "type": "Feature",
                                   "geometry": {
                                       "type": "Point",
                                       "coordinates": [..]
                                    },
                                    "properties": {..}
                                }
                            ]
                        }
                    </code>
                </p>
            </div>
        
        </div>
    </div>
</body>
    
</html>
