<div class="_ap-trail2route">
    <div style="display:flex;line-height:2.3em;">
        <div>
            <mat-icon color="primary">insights</mat-icon>
        </div>
        <div style="flex: 1 1 auto;text-align:center;
                    font-weight: bold;font-size: 16pt;">
            Vessel Trail to Route
        </div>
        <div>
            <button mat-icon-button (click)="doClose(false)"
                matTooltip="Close" matTooltipPosition="below">
                <mat-icon>close</mat-icon>
            </button>
        </div>
    </div>   

    <div style="display:block;">
        <div>
            <mat-slider min="0.000001" max="0.005" step="0.000001" value="tolerance" 
                [thumbLabel]="false" 
                [vertical]="false"
                matTooltip="Set tolerance"
                (change)="changeTolerance($event.value)">
            </mat-slider>
            &nbsp;Points: {{pointCount}}
        </div>
        <div>
            <mat-checkbox 
                [checked]="incServer"
                (change)="getServerTrail($event.checked)">
                Include Trail from server
            </mat-checkbox>
        </div>
    </div>
    <div style="display:flex;border: black 1px solid;height: 40vh;">
        <div style="width:100%;height:100%;">
            <ol-map 
                [logo]="false" 
                [olInteractions]= "[
                    {name: 'dragpan'},
                    {name: 'dragzoom'},
                    {name: 'keyboardpan'},
                    {name: 'keyboardzoom'},
                    {name: 'mousewheelzoom'},
                    {name: 'pinchzoom'}
                ]"
                [olControls]="mapControls"

                olView
                [zoom]="10"
                [center]="mapCenter"
                [rotation]="0"
                [minZoom]="2"
                [enableAnimation]="false">

                <fb-routes 
                    [routes]="rteFromTrail">
                </fb-routes>
        
            </ol-map>
        </div>                       
    </div>

    <mat-dialog-actions>
        <div style="text-align:center;width:100%;">
            <button mat-raised-button color="primary" 
                [disabled]="pointCount==0"
                (click)="doClose(true)">
                SAVE
            </button>
        </div>					
    </mat-dialog-actions>
</div>	