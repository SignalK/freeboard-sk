<div class="geojsonload-dialog">
  <mat-toolbar style="background-color: transparent">
    <span class="dialog-icon"><mat-icon>public</mat-icon></span>
    <span style="flex: 1 1 auto; text-align: center">Load GeoJSON</span>
    <span style="text-align: right">
      <button mat-icon-button (click)="this.dialogRef.close(-1);">
        <mat-icon>close</mat-icon>
      </button>
    </span>
  </mat-toolbar>

  <div class="error" *ngIf="display.notValid">
    <div>
      <b>Invalid GeoJSON Data:</b><br /><br />
      <i
        >Selected file does not contain valid GeoJSON data or<br />
        does not define a valid FeatureCollection. </i
      ><br />
    </div>
    <div style="width: 100%; text-align: center">
      <button
        mat-raised-button
        color="accent"
        (click)="app.showHelp('geojson')"
      >
        <mat-icon>help</mat-icon>
        Help
      </button>
    </div>
  </div>

  <div class="dialog-content" *ngIf="!display.notValid">
    <!--valid GeoJSON file-->
    <div class="card-group" *ngIf="!display.notValid">
      <div class="card-group-title">
        <div style="display: flex; flex-wrap: wrap">
          <div style="flex: 1 1 auto; padding-left: 20px">
            {{data.fileName}}
          </div>
          <div>
            <button
              mat-raised-button
              color="primary"
              matTooltip="Load features"
              matTooltipPosition="below"
              (click)="load()"
            >
              <mat-icon>file_upload</mat-icon>
              &nbsp;Load&nbsp;
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Waypoints -->
    <div class="card-group" *ngIf="geoData.waypoints.length!=0">
      <mat-card>
        <div class="pnlRow">
          <div class="pnlGeoType">
            <b>Point:</b>
            &nbsp;&nbsp;
          </div>
          <div class="pnlArrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
          <div class="pnlSKType">
            <mat-icon color="accent">place</mat-icon>
            <b>Waypoints:</b>
            &nbsp;&nbsp; ({{geoData?.waypoints.length}})
          </div>
        </div>
      </mat-card>
    </div>

    <!-- Routes -->
    <div class="card-group" *ngIf="geoData.routes.length!=0">
      <mat-card>
        <div class="pnlRow">
          <div class="pnlGeoType">
            <b>LineString:</b>
            &nbsp;&nbsp;
          </div>
          <div class="pnlArrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
          <div class="pnlSKType">
            <mat-icon color="primary">directions</mat-icon>
            <b>Routes:</b>
            &nbsp;&nbsp; ({{geoData?.routes.length}})
          </div>
        </div>
      </mat-card>
    </div>

    <!-- Tracks -->
    <div
      class="card-group"
      *ngIf="geoData.tracks.length!=0 && app.config.resources.paths.includes('tracks')"
    >
      <mat-card>
        <div class="pnlRow">
          <div class="pnlGeoType">
            <b>MultiLineString:</b>
            &nbsp;&nbsp;
          </div>
          <div class="pnlArrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
          <div class="pnlSKType">
            <mat-icon color="warn">show_chart</mat-icon>
            <b>Tracks:</b>
            &nbsp;&nbsp; ({{geoData?.tracks.length}})
          </div>
        </div>
      </mat-card>
    </div>

    <!-- Regions -->
    <div class="card-group" *ngIf="geoData.regions.length!=0">
      <mat-card>
        <div class="pnlRow">
          <div class="pnlGeoType">
            <b>Polygon:</b>
            &nbsp;&nbsp;
          </div>
          <div class="pnlArrow">
            <mat-icon>arrow_forward</mat-icon>
          </div>
          <div class="pnlSKType">
            <mat-icon>tab_unselected</mat-icon>
            <b>Regions:</b>
            &nbsp;&nbsp; ({{geoData?.regions.length}})
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>
